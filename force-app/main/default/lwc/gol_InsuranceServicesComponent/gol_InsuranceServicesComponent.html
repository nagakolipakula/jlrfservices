<template>
    <lightning-layout class="layoutcss" multiple-rows>
        <template  if:true={isInsuranceProducts.cpiProducts}>
        <lightning-layout-item class="layoutitemcss" size="12" small-device-size="6" medium-device-size="5" large-device-size="5">
            <div class="insuranceboxcss">
                <!-- <div class="checkboxheadercss" >{label.GOL_Finance_Insurance_product_1}</div> -->
                    <template for:each={cpiProducts} for:item="cp" for:index="index">
                    <div key={cp.name}  class="checkboxdivcss">
                        <input id={cp.name} data-name={cp.financialProductId} data-id={cp.id} data-mid="cpiProducts" value={cp.name} type="checkbox" checked={cp.checked} onchange={handleInsuranceProductSelection}>
                        <label class="checkboxlabelcss" for={cp.name}> {cp.checkboxLabel}</label>
                    </div>
                    </template>
                    <template if:true={isItalyCountryUser}>
                    <template if:true={isInsuranceProducts.ageRange}>
                    <div class="clientagedivcss">
                        <div for="clientage" class="clientagelabelcss">{label.GOL_Finance_Client_age}</div>
                        <!-- GOL-4178 -->
                        <select data-mid="clientage" data-id="clientage" name="clientage" id="clientage" class="clientagecss" value={ageRangeSelected} onchange={handleInsuranceProductSelection}>
                            <option value="" selected={isAgeRangeUnselected}></option>
                            <template for:each={ageRangeOptions} for:item="ageRange" for:index="index">
                                <option selected={ageRange.selected} key={ageRange.name} value={ageRange.name}>{ageRange.name}</option>
                            </template>
                        </select>                     
                    </div>
                    </template>  
                    </template>     
            </div>
        </lightning-layout-item>
        </template>
        <template  if:true={isInsuranceProducts.nonCpiProducts}>
        <lightning-layout-item class="layoutitemcss" size="12" small-device-size="6" medium-device-size="5" large-device-size="5">
            <div class="insuranceboxcss">
                <!-- <div class="checkboxheadercss">{label.GOL_Finance_Insurance_product_2}</div> -->
                    <template for:each={nonCpiProducts} for:item="ncp" for:index="index">
                    <div key={ncp.name} class="checkboxdivcss">
                        <input id={ncp.name} data-name={ncp.financialProductId} data-id={ncp.id} data-mid="nonCpiProducts" value={ncp.name} type="checkbox" checked={ncp.checked} onchange={handleInsuranceProductSelection}>
                        <label class="checkboxlabelcss" for={ncp.name}> {ncp.checkboxLabel}</label>
                    </div>
                    </template>
                    <template if:true={isItalyCountryUser}>
                    <div class="zipcodedivcss">
                        <div class="zipcodelabelcss" for="zipcode">{label.GOL_Finance_Zip_Postal_code}</div>
                        <input
                        value={zipCode}
                        data-mid="zipcode"
                        data-id="zipcode"
                        id="zipcode"
                        type="text"
                        onchange={handleInsuranceProductSelection}
                        class="input-box" />
                    </div>
                    </template>
            </div>
        </lightning-layout-item>
        </template>

        <template  if:true={isInsuranceProducts.services}>
            <!-- //Arval Loop Start -->
            <template for:each={options} for:item="service" for:index="index">
                <template  if:false={service.additionalServices}>
                <lightning-layout-item key={service.serviceId} class="layoutitemcss arvallayoutitemcss" size="12" small-device-size="6" medium-device-size="5" large-device-size="5">
                    <div class="insuranceboxcss">
                        <div for="insurance" class="insuranceproductnamecss">{service.label}</div>
                        <select disabled={service.disableOption} data-mid="services" data-id={service.serviceId} name="insurance" id={service.serviceId} class="selectcss" onchange={handleInsuranceProductSelection}>
                        <template for:each={service.validValues} for:item="servicevalue" for:index="indexchild">
                
                                <option selected={servicevalue.selected} key={servicevalue.value} value={servicevalue.value}>{servicevalue.label}</option>
                            
                        </template>   
                        </select>  
                    </div>
                </lightning-layout-item>
                </template>

            </template>

            <template  if:true={isAdditionalServices}>
                <lightning-layout-item class="AdditionalServicesTopCss" size="12" small-device-size="6" medium-device-size="12" large-device-size="12">
                    
                    <div class="slds-section slds-is-close " data-id="customization">
                        <div class="slds-p-top_large slds-p-bottom_medium ">
                            <div data-divid="customization" class="additionalServicesdivcss" onclick={toggleSection} >
                                <div style="flex: 1;">
                                    <div class="title-container">
                                        <span class="slds-truncate slds-text-align_left section-header title-label" title={label.GOL_Finance_Additional_services}>{label.GOL_Finance_Additional_services}</span>
                                    </div>
                                </div>
                                <div class="slds-text-align_right" >
                                    <lightning-icon icon-name="utility:add" alternative-text="button icon" size="small" 
                                        class="slds-section__title-action-icon slds-button__icon_right slds-text-align_right" data-id="icon-customization"></lightning-icon>
                                </div>
                            </div>
                            <div class="slds-section__content slds-p-top_medium" data-divid="customization" style="cursor: pointer;">
                                <lightning-layout class="layoutadditionalservicecss" multiple-rows>
                                <template for:each={options} for:item="service1" for:index="index">
                                    <template  if:true={service1.additionalServices}>
                                    <lightning-layout-item key={service1.serviceId} class="layoutitemadditionalservicecss arvaladditionalservicelayoutitemcss" size="12" small-device-size="6" medium-device-size="4" large-device-size="4">
                                        <div class="additionalserviceinsuranceboxcss">
                                            <div for="insurance" class="insuranceproductnamecss">{service1.label}</div>
                                            <select disabled={service1.disableOption} data-mid="services" data-id={service1.serviceId} name="insurance" id={service1.serviceId} class="selectcss" onchange={handleInsuranceProductSelection}>
                                            <template for:each={service1.validValues} for:item="servicevalue1" for:index="indexchild">
                                    
                                                    <option selected={servicevalue1.selected} key={servicevalue1.value} value={servicevalue1.value}>{servicevalue1.label}</option>
                                                
                                            </template>   
                                            </select>  
                                        </div>
                                    </lightning-layout-item>
                                    </template>
                                </template>
                                </lightning-layout>

                            </div>
                        </div>
                    </div>
                    
                </lightning-layout-item>
            </template>

            <!-- //Arval Loop End -->
        </template>

    </lightning-layout>
            
            <!-- <div class="insuranceboxcss">
               <div for="insurance" class="insuranceproductnamecss">Insurance product</div>
                <select name="insurance" id="insurance" class="selectcss">
                    <option value="volvo">Insurance product name A</option>
                    <option value="volvo">Insurance product B</option>
                    <option value="volvo">Insurance product name C</option>
                    <option value="volvo">Insurance product D</option>
                </select> 
            </div> -->
</template>